{"version":3,"sources":["reportWebVitals.js","Components/Loader.js","constants.js","Components/Navbar.js","Components/Chat.js","routes.js","Components/Login.js","Components/AppRouter.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Loader","Container","Grid","container","style","height","window","innerHeight","alignItems","justify","direction","className","LOGIN_ROUTE","CHAT_ROUTE","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Navbar","classes","auth","useContext","Context","useAuthState","user","AppBar","position","color","Toolbar","variant","Typography","Button","onClick","signOut","to","Chat","firestore","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","marginTop","width","border","overflowY","map","message","index","margin","marginLeft","padding","Avatar","src","TextField","fullWidth","rowsMax","onChange","e","target","publicRoutes","path","Component","login","provider","GoogleAuthProvider","signInWithPopup","console","log","background","Box","p","privateRoutes","AppRouter","component","exact","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80824216.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Container, Grid } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{ height: window.innerHeight - 50 }}\r\n        alignItems={'center'}\r\n        justify={'center'}\r\n      >\r\n        <Grid container alignItems={'center'} direction={'column'}>\r\n          <div className=\"lds-spinner\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'","import React, { useContext } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n\r\nimport { LOGIN_ROUTE } from '../constants';\r\nimport { Context } from '../index';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function Navbar() {\r\n  const classes = useStyles();\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  return (\r\n    <AppBar position=\"static\" color={'secondary'}>\r\n      <Toolbar variant={'dense'}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Chat\r\n        </Typography>\r\n        <Grid container justify={'flex-end'}>\r\n          {user ? (\r\n            <Button onClick={() => auth.signOut()} variant={'outlined'}>\r\n              Выйти\r\n            </Button>\r\n          ) : (\r\n            <NavLink to={LOGIN_ROUTE}>\r\n              <Button variant={'outlined'}>Логин</Button>\r\n            </NavLink>\r\n          )}\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { Context } from '../index';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { Avatar, Button, Container, Grid } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\r\nimport firebase from 'firebase';\r\n\r\nimport Loader from './Loader';\r\n\r\nconst Chat = () => {\r\n  const { auth, firestore } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  const [value, setValue] = useState('');\r\n  const [messages, loading] = useCollectionData(\r\n    firestore.collection('messages').orderBy('createdAt')\r\n  );\r\n\r\n  const sendMessage = async () => {\r\n    firestore.collection('messages').add({\r\n      uid: user.uid,\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      text: value,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    setValue('');\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        justify={'center'}\r\n        style={{ height: window.innerHeight - 50, marginTop: 20 }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: '80%',\r\n            height: '60vh',\r\n            border: '1px solid gray',\r\n            overflowY: 'auto',\r\n          }}\r\n        >\r\n          {messages.map((message, index) => (\r\n            <div\r\n              key={index}\r\n              style={{\r\n                margin: 10,\r\n                border:\r\n                  user.uid === message.uid\r\n                    ? '2px solid green'\r\n                    : '2px dashed red',\r\n                marginLeft: user.uid === message.uid ? 'auto' : '10px',\r\n                width: 'fit-content',\r\n                padding: 5,\r\n              }}\r\n            >\r\n              <Grid container>\r\n                <Avatar src={message.photoURL} />\r\n                <div>{message.displayName}</div>\r\n              </Grid>\r\n              <div>{message.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <Grid\r\n          container\r\n          direction={'column'}\r\n          alignItems={'flex-end'}\r\n          style={{ width: '80%' }}\r\n        >\r\n          <TextField\r\n            fullWidth\r\n            rowsMax={2}\r\n            variant={'outlined'}\r\n            value={value}\r\n            onChange={(e) => setValue(e.target.value)}\r\n          />\r\n          <Button onClick={sendMessage} variant={'outlined'}>\r\n            Отправить\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import Chat from \"./Components/Chat\";\r\nimport Login from \"./Components/Login\";\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./constants\";\r\n\r\nexport const publicRoutes = [\r\n  {\r\n    path: LOGIN_ROUTE,\r\n    Component: Login\r\n  }\r\n]\r\n\r\nexport const privateRoutes = [\r\n  {\r\n    path: CHAT_ROUTE,\r\n    Component: Chat\r\n  }\r\n]","import { Box, Button, Container, Grid } from '@material-ui/core';\r\nimport React, { useContext } from 'react';\r\nimport { Context } from '../index';\r\nimport firebase from 'firebase';\r\n\r\nexport default function Login() {\r\n  const { auth } = useContext(Context);\r\n\r\n  const login = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const user = await auth.signInWithPopup(provider);\r\n    console.log(user);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{ height: window.innerHeight - 50 }}\r\n        alignItems={'center'}\r\n        justify={'center'}\r\n      >\r\n        <Grid\r\n          style={{ width: 400, background: 'lightgray' }}\r\n          container\r\n          alignItems={'center'}\r\n          direction={'column'}\r\n        >\r\n          <Box p={5}>\r\n            <Button onClick={login} variant={'outlined'}>\r\n              Войти с помощью Google\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { privateRoutes, publicRoutes } from '../routes';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n\r\nimport { Context } from '../index';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../constants';\r\n\r\nexport default function AppRouter() {\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n\r\n  return user ? (\r\n    <Switch>\r\n      {privateRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n  ) : (\r\n    <Switch>\r\n      {publicRoutes.map(({ path, Component }) => (\r\n        <Route key={path} path={path} component={Component} exact={true} />\r\n      ))}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n  );\r\n}\r\n","import './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { Context } from '.';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nimport Loader from './Components/Loader';\nimport Navbar from './Components/Navbar';\nimport AppRouter from './Components/AppRouter';\n\nfunction App() {\n\n  const {auth} = useContext(Context)\n  const [user,loading, error] = useAuthState(auth)\n\n  if (loading) {\n    return <Loader/>\n  }\n\n\n  return (\n    <BrowserRouter>\n        <Navbar/>\n        <AppRouter/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport App from './App';\n\nfirebase.initializeApp({\n  apiKey: 'AIzaSyCAbeVzVyB3Cki2VM5gBwa2KSjgxbUyvuM',\n  authDomain: 'chat-react-bc797.firebaseapp.com',\n  projectId: 'chat-react-bc797',\n  storageBucket: 'chat-react-bc797.appspot.com',\n  messagingSenderId: '786175439585',\n  appId: '1:786175439585:web:f69cb10cb9da04434c7da0',\n  measurementId: 'G-PTDNK232Z6',\n});\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n  <Context.Provider\n    value={{\n      firebase,\n      auth,\n      firestore,\n    }}\n  >\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Context.Provider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}