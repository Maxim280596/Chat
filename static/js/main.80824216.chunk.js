(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{81:function(e,t,n){},86:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return U}));var c=n(0),a=n.n(c),i=n(16),r=n.n(i),s=(n(81),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))}),o=n(30),j=(n(84),n(85),n(27)),d=(n(86),n(44)),u=n(31),l=n(126),b=n(129),h=n(7);function x(){return Object(h.jsx)(l.a,{children:Object(h.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(h.jsx)(b.a,{container:!0,alignItems:"center",direction:"column",children:Object(h.jsxs)("div",{className:"lds-spinner",children:[Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{})]})})})})}var O=n(131),p=n(132),v=n(133),f=n(136),g=n(130),m="/login",y="/chat",w=Object(g.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function C(){var e=w(),t=Object(c.useContext)(U).auth,n=Object(u.a)(t),a=Object(j.a)(n,1)[0];return Object(h.jsx)(O.a,{position:"static",color:"secondary",children:Object(h.jsxs)(p.a,{variant:"dense",children:[Object(h.jsx)(v.a,{variant:"h6",className:e.title,children:"Chat"}),Object(h.jsx)(b.a,{container:!0,justify:"flex-end",children:a?Object(h.jsx)(f.a,{onClick:function(){return t.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(h.jsx)(d.b,{to:m,children:Object(h.jsx)(f.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})]})})}var I=n(18),k=n(41),B=n.n(k),A=n(51),L=n(137),N=n(134),P=n(67),S=function(){var e=Object(c.useContext)(U),t=e.auth,n=e.firestore,a=Object(u.a)(t),i=Object(j.a)(a,1)[0],r=Object(c.useState)(""),s=Object(j.a)(r,2),d=s[0],O=s[1],p=Object(P.a)(n.collection("messages").orderBy("createdAt")),v=Object(j.a)(p,2),g=v[0],m=v[1],y=function(){var e=Object(A.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:d,createdAt:o.a.firestore.FieldValue.serverTimestamp()}),O("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?Object(h.jsx)(x,{}):Object(h.jsx)(l.a,{children:Object(h.jsxs)(b.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(h.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:g.map((function(e,t){return Object(h.jsxs)("div",{style:{margin:10,border:i.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:i.uid===e.uid?"auto":"10px",width:"fit-content",padding:5},children:[Object(h.jsxs)(b.a,{container:!0,children:[Object(h.jsx)(L.a,{src:e.photoURL}),Object(h.jsx)("div",{children:e.displayName})]}),Object(h.jsx)("div",{children:e.text})]},t)}))}),Object(h.jsxs)(b.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(h.jsx)(N.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:d,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)(f.a,{onClick:y,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},F=n(135);var G=[{path:m,Component:function(){var e=Object(c.useContext)(U).auth,t=function(){var t=Object(A.a)(B.a.mark((function t(){var n,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new o.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,console.log(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsx)(l.a,{children:Object(h.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(h.jsx)(b.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(h.jsx)(F.a,{p:5,children:Object(h.jsx)(f.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})}}],T=[{path:y,Component:S}];function M(){var e=Object(c.useContext)(U).auth,t=Object(u.a)(e);return Object(j.a)(t,1)[0]?Object(h.jsxs)(I.d,{children:[T.map((function(e){var t=e.path,n=e.Component;return Object(h.jsx)(I.b,{path:t,component:n,exact:!0},t)})),Object(h.jsx)(I.a,{to:y})]}):Object(h.jsxs)(I.d,{children:[G.map((function(e){var t=e.path,n=e.Component;return Object(h.jsx)(I.b,{path:t,component:n,exact:!0},t)})),Object(h.jsx)(I.a,{to:m})]})}var R=function(){var e=Object(c.useContext)(U).auth,t=Object(u.a)(e),n=Object(j.a)(t,3),a=(n[0],n[1]);return n[2],a?Object(h.jsx)(x,{}):Object(h.jsxs)(d.a,{children:[Object(h.jsx)(C,{}),Object(h.jsx)(M,{})]})};o.a.initializeApp({apiKey:"AIzaSyCAbeVzVyB3Cki2VM5gBwa2KSjgxbUyvuM",authDomain:"chat-react-bc797.firebaseapp.com",projectId:"chat-react-bc797",storageBucket:"chat-react-bc797.appspot.com",messagingSenderId:"786175439585",appId:"1:786175439585:web:f69cb10cb9da04434c7da0",measurementId:"G-PTDNK232Z6"});var U=Object(c.createContext)(null),V=o.a.auth(),z=o.a.firestore();r.a.render(Object(h.jsx)(U.Provider,{value:{firebase:o.a,auth:V,firestore:z},children:Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(R,{})})}),document.getElementById("root")),s()}},[[93,1,2]]]);
//# sourceMappingURL=main.80824216.chunk.js.map